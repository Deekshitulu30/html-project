<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Online Examination Portal</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Custom CSS -->
    <link rel="stylesheet" href="project.css">
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4 font-sans text-gray-800">

    <!-- Main Card: Added max-height constraint -->
    <div class="w-full max-w-2xl bg-white rounded-2xl shadow-xl flex flex-col my-8 border border-gray-100 relative max-h-[90vh]">
        
        <!-- Header: Sticky at the top -->
        <div id="exam-header" class="hidden bg-indigo-600 p-4 text-white flex justify-between items-center shadow-md z-20 rounded-t-2xl flex-shrink-0">
            <div class="font-bold text-lg flex items-center gap-2">
                <span class="opacity-75">Question</span> <span id="current-q-num" class="text-xl">1</span> <span class="opacity-75">/</span> <span id="total-q-num" class="opacity-75">15</span>
            </div>
            <div class="bg-indigo-800 px-4 py-2 rounded-full font-mono text-lg font-bold flex items-center gap-2">
                <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                <span id="timer">15:00</span>
            </div>
        </div>

        <!-- Content Area: Added overflow-y-auto to enable scrolling for long questions -->
        <div class="p-6 md:p-8 flex-grow flex flex-col relative overflow-y-auto custom-scrollbar">
            
            <!-- Start Screen -->
            <div id="start-screen" class="text-center space-y-6 fade-in py-4">
                <div class="mb-6"><div class="inline-block p-5 rounded-full bg-indigo-50 text-indigo-600 mb-4 shadow-sm"><svg class="h-16 w-16" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg></div><h1 class="text-4xl font-extrabold text-gray-900 tracking-tight">Final Examination</h1></div>
                <div class="bg-blue-50 text-left p-6 rounded-xl border border-blue-100 text-sm md:text-base space-y-4 shadow-sm">
                    <h3 class="font-bold text-blue-800 uppercase tracking-wide text-xs border-b border-blue-200 pb-2 mb-2">Instructions</h3>
                    <ul class="list-disc list-inside space-y-2 text-blue-900"><li>The exam consists of <strong>15 questions</strong> selected randomly.</li><li>You have <strong>15 minutes</strong> to complete the exam.</li><li>Each question has single choice options.</li><li>You can navigate freely using <strong>Next</strong> and <strong>Previous</strong> buttons.</li></ul>
                </div>
                <button onclick="startExam()" class="w-full md:w-auto px-10 py-4 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl transition transform hover:scale-105 shadow-lg flex items-center justify-center gap-2 mx-auto"><span>Start Examination</span></button>
            </div>

            <!-- Quiz Screen -->
            <div id="quiz-screen" class="hidden flex-col flex-grow fade-in w-full pb-4">
                <div class="w-full bg-gray-100 rounded-full h-2.5 mb-8 overflow-hidden flex-shrink-0"><div id="progress-bar" class="bg-indigo-600 h-full rounded-full transition-all duration-500 ease-out" style="width: 0%"></div></div>
                
                <h2 id="question-text" class="text-xl md:text-2xl font-bold text-gray-800 mb-8 leading-snug"></h2>
                
                <!-- Options Container -->
                <div id="options-container" class="space-y-4 mb-8"></div>
                
                <!-- Navigation -->
                <div class="mt-auto flex justify-between gap-4 pt-4 border-t border-gray-100 flex-shrink-0 bg-white sticky bottom-0">
                    <button id="prev-btn" onclick="prevQuestion()" disabled class="px-6 py-3 bg-gray-100 text-gray-400 font-bold rounded-xl transition flex items-center gap-2">Previous</button>
                    <button id="next-btn" onclick="nextQuestion()" class="flex-grow md:flex-grow-0 px-8 py-3 bg-gray-200 text-gray-500 font-bold rounded-xl cursor-not-allowed transition shadow-sm flex items-center justify-center gap-2"><span>Next Question</span></button>
                </div>
            </div>

            <!-- Result Screen -->
            <div id="result-screen" class="hidden text-center space-y-8 fade-in pb-8">
                <div class="pt-4"><div class="inline-block p-4 rounded-full bg-green-50 text-green-600 mb-4 shadow-sm"><svg class="h-16 w-16" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg></div><h2 class="text-3xl font-extrabold text-gray-900">Exam Completed!</h2></div>
                <div class="grid grid-cols-2 gap-6 max-w-sm mx-auto">
                    <div class="bg-gray-50 p-6 rounded-2xl border border-gray-200 shadow-sm"><p class="text-xs text-gray-500 uppercase font-bold tracking-wider mb-1">Score</p><p class="text-3xl font-extrabold text-indigo-600"><span id="score-display">0</span>/15</p></div>
                    <div class="bg-gray-50 p-6 rounded-2xl border border-gray-200 shadow-sm"><p class="text-xs text-gray-500 uppercase font-bold tracking-wider mb-1">Percentage</p><p class="text-3xl font-extrabold text-indigo-600"><span id="percentage-display">0</span>%</p></div>
                </div>
                <div class="text-left w-full mt-8"><h3 class="text-lg font-bold text-gray-800 mb-4 px-2">Detailed Review</h3><div id="review-container" class="space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar p-2 bg-gray-50 rounded-xl border border-gray-200"></div></div>
                <button onclick="location.reload()" class="w-full mt-4 px-8 py-4 bg-gray-900 hover:bg-gray-800 text-white font-bold rounded-xl transition shadow-xl sticky bottom-0">Restart Exam</button>
            </div>
        </div>
    </div>

    <!-- Main Logic -->
    <script src="project.js"></script>
</body>
</html>